# canopyAI local development dependencies
# (matches Dockerfile except for conda-installed libs)

# Normal install with pip
# pip install -r requirements.txt

# Stable PyTorch with full MPS support
# --extra-index-url required for PyTorch wheels
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.3.0
torchvision==0.18.0
torchaudio==2.3.0

# --- Geospatial stack (lightweight pip parts only) ---
rasterio
geopandas
shapely
fiona
pyproj
rtree
affine

# --- Utilities ---
opencv-python
wget
requests
matplotlib
cython
pycocotools
duckdb
pyarrow
scikit-image==0.20.0
tqdm
datasets
Pillow==9.5.0
PyYAML>=6.0.1  # Explicit pin to avoid Cython build issues on ARM Macs

segment_anything
deepforest==2.0.0

albumentations

# For training, install modal and set up modal client on your machine
# pip install modal
# python3 -m modal setup

# NEXT STEP FOR LOCAL DEV: pip install --no-build-isolation -r detectron_requirements.txt
# (ignore archive_requirements.txt, deprecated)


# other files needed
# model_oscar50.pth
# models/
# solar_pipeline_architecture.md
# sam_vit_b_01ec64.pth